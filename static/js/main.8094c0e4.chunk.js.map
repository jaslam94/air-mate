{"version":3,"sources":["components/footer.jsx","components/header.jsx","services/logService.js","services/httpService.js","components/weatherData.jsx","components/pollutionData.jsx","components/airData.jsx","components/ipBasedData.jsx","components/searchBox.jsx","components/listOfLinks.jsx","components/searchBasedData.jsx","components/main.jsx","App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","init","log","error","console","axios","interceptors","response","use","status","logger","toast","Promise","reject","get","post","put","delete","WeatherData","ts","tp","pr","hu","ws","wd","ic","iconUrl","weatherImageUrl","src","width","height","alt","PollutionData","aqius","mainus","aqicn","maincn","units","p2","p1","o3","n2","s2","co","heading","style","backgroundColor","pollutionIconUrl","AirData","apiData","city","state","country","weather","pollution","ShowIpData","useState","setApiData","apiError","setApiError","loading","setLoading","dataRef","useRef","localData","JSON","parse","localStorage","getItem","updateStates","data","loadingFlag","useEffect","timeout","setTimeout","currentDateTime","Date","expDateTime","isLocalDataExpired","httpService","apiUrlIp","process","then","setMinutes","getMinutes","setItem","stringify","toLocaleString","storeResultsLocally","catch","current","scrollIntoView","alignToTop","clearTimeout","role","ref","SearchBox","value","onChange","onSubmit","e","preventDefault","htmlFor","id","placeholder","currentTarget","type","ListOfLinks","links","onLinkClick","length","xlinkHref","map","link","index","cursor","onClick","ShowSearchedData","onGoBackClick","searchBoxValue","setSearchBoxValue","setLinks","selectedLink","setSelectedLink","listRef","airDataRef","getLinks","CountryCityState","getCitiesByName","forEach","linkData","name","push","linksData","apiUrlCity","getDataFromApi","Main","searchByCity","setSearchByCity","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","require","config","ReactDOM","render","StrictMode","document","body"],"mappings":"wZAEe,SAASA,IACtB,OACE,wBAAQC,UAAU,8BAAlB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAMA,UAAU,gBAAhB,oC,WCJO,SAASC,IACtB,OACE,qBAAKD,UAAU,8BAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,oBAAIA,UAAU,oBAAd,sBACA,mBAAGA,UAAU,OAAb,sD,oBCDO,OACbE,KAPF,aAQEC,IANF,SAAaC,GACXC,QAAQD,MAAMA,KCChBE,IAAMC,aAAaC,SAASC,IAAI,MAAM,SAACL,GAWrC,OATEA,EAAMI,UACNJ,EAAMI,SAASE,QAAU,KACzBN,EAAMI,SAASE,OAAS,MAGxBC,EAAOR,IAAIC,GACXQ,IAAMR,MAAM,mCAGPS,QAAQC,OAAOV,MAGT,OACbW,IAAKT,IAAMS,IACXC,KAAMV,IAAMU,KACZC,IAAKX,IAAMW,IACXC,OAAQZ,IAAMY,Q,eCuBDC,MAzCf,YAAqD,EAA9BC,GAA+B,IAA3BC,EAA0B,EAA1BA,GAAIC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,GAAIC,EAAc,EAAdA,GAAIC,EAAU,EAAVA,GAAIC,EAAM,EAANA,GACzCC,EAAO,UAAMC,IAAN,YAAyBF,EAAzB,QAIX,MAHW,QAAPA,IACFC,EAAO,UAAMC,IAAN,aAGP,mCACE,sBAAK5B,UAAU,uCAAf,UACE,sBAAKA,UAAU,6DAAf,UACE,qBACE6B,IAAKF,EACL3B,UAAU,0BACV8B,MAAM,MACNC,OAAO,MACPC,IAAI,QAEN,uBAAMhC,UAAU,YAAhB,UAA6BqB,EAA7B,eAEF,sBAAKrB,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,kCACA,kCAAQsB,EAAR,aAEF,sBAAKtB,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,sBACA,kCAAQuB,EAAR,WAEF,sBAAKvB,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,wBACA,kCAAQwB,EAAR,aAEF,sBAAKxB,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,4BACA,kCAAQyB,EAAR,mBCmDKQ,MAnFf,YAA6D,EAApCb,GAAqC,IAAjCc,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,OAC3CC,EAAQ,CACZC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OAGFC,EAAU,GACVC,EAAQ,GACRnB,EAAU,GA4Bd,OA1BIO,EAAQ,GAAKA,GAAS,IACxBW,EAAU,OACVC,EAAQ,CAAEC,gBAAiB,WAC3BpB,EAAO,UAAMqB,IAAN,uBACEd,EAAQ,IAAMA,GAAS,KAChCW,EAAU,WACVC,EAAQ,CAAEC,gBAAiB,WAC3BpB,EAAO,UAAMqB,IAAN,wBACEd,EAAQ,KAAOA,GAAS,KACjCW,EAAU,iCACVC,EAAQ,CAAEC,gBAAiB,WAC3BpB,EAAO,UAAMqB,IAAN,wBACEd,EAAQ,KAAOA,GAAS,KACjCW,EAAU,YACVC,EAAQ,CAAEC,gBAAiB,WAC3BpB,EAAO,UAAMqB,IAAN,qBACEd,EAAQ,KAAOA,GAAS,KACjCW,EAAU,iBACVC,EAAQ,CAAEC,gBAAiB,WAC3BpB,EAAO,UAAMqB,IAAN,wBACEd,EAAQ,KAAOA,GAAS,MACjCW,EAAU,YACVC,EAAQ,CAAEC,gBAAiB,WAC3BpB,EAAO,UAAMqB,IAAN,wBAIP,mCACE,sBAAKhD,UAAU,uCAAf,UACE,sBACEA,UAAU,6DACV8C,MAAOA,EAFT,UAIE,qBACEjB,IAAKF,EACL3B,UAAU,0BACV8B,MAAM,MACNC,OAAO,MACPC,IAAI,QAEN,mBAAGhC,UAAU,yCAAb,SAAuD6C,OAEzD,sBAAK7C,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,oBACA,gCAAQkC,OAEV,sBAAKlC,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,uBACA,gCAAQoC,OAEV,sBAAKpC,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,uCACA,kCACGmC,EADH,IACYG,EAAMH,SAGpB,sBAAKnC,UAAU,kBAAf,UACE,oBAAIA,UAAU,eAAd,4CACA,kCACGqC,EADH,IACYC,EAAMD,eC5CbY,MA5Bf,YAAqD,IAAlCC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAC/BC,EAAuBJ,EAAvBI,QAASC,EAAcL,EAAdK,UACjB,OACE,qBAAKvD,UAAU,gBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,uBAAd,SAAsCmD,IACtC,qBAAInD,UAAU,gCAAd,UACGoD,EADH,KACYC,KAEZ,sBAAKrD,UAAU,MAAf,UACGuD,EAAUnC,IACT,qBAAKpB,UAAU,gBAAf,SACE,cAAC,EAAD,eAAmBuD,MAGtBD,EAAQlC,IACP,qBAAKpB,UAAU,gBAAf,SACE,cAAC,EAAD,eAAiBsD,eCoGhBE,MApHf,WACE,MAA8BC,mBAAS,IAAvC,mBAAOP,EAAP,KAAgBQ,EAAhB,KACA,EAAgCD,mBAAS,IAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KACA,EAA8BH,oBAAS,GAAvC,mBAAOI,EAAP,KAAgBC,EAAhB,KAEMC,EAAUC,mBAEVC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,YAsBlD,SAASC,EAAaC,EAAMnE,EAAOoE,GACjCd,EAAWa,GACXX,EAAYxD,GACZ0D,EAAWU,GAuCb,OA9DAC,qBAAU,WACR,IAAMC,EAAUC,YAAW,YACT,IAAZd,IACEI,IAkDV,WACE,IAAIW,EAAkB,IAAIC,KACpBC,EAAc,IAAID,KAAKZ,EAAUa,aACvC,GAAIF,EAAkBE,EACpB,OAAO,EAET,OAAO,EAxDeC,GAChBT,EAAaL,EAAUM,KAAM,IAAI,GAuBvCS,EACGjE,IAAIkE,IAAQ,eAAWC,yCACvBC,MAAK,SAAC3E,GACL,IAAQ+D,EAAS/D,EAAS+D,KAAlBA,MAUd,SAA6BA,GAC3B,IAAIK,EAAkB,IAAIC,KAC1BD,EAAgBQ,WAAWR,EAAgBS,aAAe,IAE1DjB,aAAakB,QACX,UACApB,KAAKqB,UAAU,CACbhB,KAAMA,EACNO,YAAaF,EAAgBY,oBAjB7BC,CAAoBlB,GACpBD,EAAaC,EAAM,IAAI,MAExBmB,OAAM,SAACtF,GAAW,IAAD,EAEhBkE,EAAa,GADD,UAAGlE,EAAMI,gBAAT,aAAG,EAAgBE,QACN,SA3B1B,KAQH,OANIqD,GAAWA,EAAQ4B,SACrB5B,EAAQ4B,QAAQC,eAAe,CAC7BC,YAAY,IAIT,kBAAMC,aAAapB,MACzB,CAACb,KA4CY,IAAZA,EAEA,mCACE,qBAAK7D,UAAU,kCAAf,SACE,sBAAKA,UAAU,YAAf,UACE,mBAAGA,UAAU,qBAAb,uDAGA,qBAAKA,UAAU,iBAAiB+F,KAAK,SAArC,SACE,sBAAM/F,UAAU,kBAAhB,iCASV,mCACE,qBAAKA,UAAU,kCAAf,SACE,qBAAKA,UAAU,WAAf,SACgB,KAAb2D,EACCT,EAAQyC,SACN,qBAAKK,IAAKjC,EAAV,SACE,cAAC,EAAD,CACEb,QAASA,EAAQyC,QACjBxC,KAAMD,EAAQC,KACdC,MAAOF,EAAQE,MACfC,QAASH,EAAQG,YAKvB,qBAAKrD,UAAU,2BAA2B+F,KAAK,QAA/C,SACE,iFCzECE,MAnCf,YAAmD,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SAMpC,OACE,qBAAKpG,UAAU,MAAf,SACE,qBAAKA,UAAU,wBAAf,SACE,uBAAMoG,SARS,SAACC,GACpBA,EAAEC,iBACFF,KAMI,UACE,sBAAKpG,UAAU,OAAf,UACE,uBAAOuG,QAAQ,eAAevG,UAAU,uBAAxC,uBAGA,uBACEA,UAAU,+BACVwG,GAAG,eACHC,YAAY,cACZP,MAAOA,EACPC,SAAU,SAACE,GAAD,OAAOF,EAASE,EAAEK,cAAcR,aAG9C,wBAAQS,KAAK,SAAS3G,UAAU,kBAAhC,4BC0BK4G,MAhDf,YAA8C,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,YAC5B,OAAqB,IAAjBD,EAAME,OAEN,sBACE/G,UAAU,gDACV+F,KAAK,QAFP,UAIE,qBACE/F,UAAU,wBACV8B,MAAM,KACNC,OAAO,KACPgE,KAAK,MACL,aAAW,WALb,SAOE,qBAAKiB,UAAU,iCAEjB,wEAMJ,sBAAKhH,UAAU,OAAf,UACG6G,EAAME,OAAS,GACd,8FAEF,qBAAK/G,UAAU,kBAAf,SACoB,IAAjB6G,EAAME,QACLF,EAAMI,KAAI,SAACC,EAAMC,GACf,OACE,yBAEER,KAAK,SACL3G,UAAU,iEACV8C,MAAO,CAAEsE,OAAQ,WACjBC,QAAS,kBAAMP,EAAYI,IAL7B,UAOGA,EAAK/D,KAPR,KAOgB+D,EAAK9D,MAPrB,KAO8B8D,EAAK7D,UAN5B8D,Y,iBCiING,MA1Jf,YAA8C,IAAlBC,EAAiB,EAAjBA,cAC1B,EAA4C9D,mBAAS,IAArD,mBAAO+D,EAAP,KAAuBC,EAAvB,KACA,EAA0BhE,mBAAS,IAAnC,mBAAOoD,EAAP,KAAca,EAAd,KACA,EAAwCjE,mBAAS,IAAjD,mBAAOkE,EAAP,KAAqBC,EAArB,KACA,EAA8BnE,mBAAS,IAAvC,mBAAOP,EAAP,KAAgBQ,EAAhB,KACA,EAAgCD,mBAAS,IAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KACA,EAA8BH,oBAAS,GAAvC,mBAAOI,EAAP,KAAgBC,EAAhB,KAEM+D,EAAU7D,mBACV8D,EAAa9D,mBAyBnBS,qBAAU,WACJoD,GAAWA,EAAQlC,SACrBkC,EAAQlC,QAAQC,eAAe,CAC7BC,YAAY,IAGZiC,GAAcA,EAAWnC,SAC3BmC,EAAWnC,QAAQC,eAAe,CAChCC,YAAY,MAGf,CAACgB,EAAO3D,EAASS,EAAUE,IAE9B,IAAMkE,EAAW,SAAC7B,GAChB,IAAMW,EAAQ,GAUd,OATamB,IAAiBC,gBAAgB/B,GAEzCgC,SAAQ,SAAC3D,GACZ,IAAM4D,EAAW,CAAEhF,KAAM+C,GACzBiC,EAAS/E,MAAQmB,EAAKnB,MACtB+E,EAAS9E,QAAUkB,EAAKlB,QAAQ+E,KAChCvB,EAAMwB,KAAKF,MAGNtB,GAwBT,OAAgB,IAAZhD,EAEA,mCACE,qBAAK7D,UAAU,WAAf,SACE,sBAAKA,UAAU,MAAf,UACE,mBAAGA,UAAU,qBAAb,8BACA,qBAAKA,UAAU,iBAAiB+F,KAAK,SAArC,SACE,sBAAM/F,UAAU,kBAAhB,iCASV,qCACE,sBAAKA,UAAU,kCAAf,UACE,sBAAKA,UAAU,WAAf,UACE,cAAC,EAAD,CACEkG,MAAOsB,EACPrB,SAAUsB,EACVrB,SA7FoB,WAE5BwB,EAAgB,IAChBlE,EAAW,IACXE,EAAY,IAEZ,IAAM0E,EAAYP,EAASP,GAC3BE,EAASY,MAwFe,IAAjBzB,EAAME,QACL,qBAAK/G,UAAU,6BAAf,SACE,qBAAKA,UAAU,YAAYgG,IAAK6B,EAAhC,SACE,cAAC,EAAD,CAAahB,MAAOA,EAAOC,YAxFjB,SAACI,GACvBpD,GAAW,GACX8D,EAAgBV,GAChBxD,EAAW,IAEX,IAAMgB,EAAUC,YAAW,YAmC7B,SAAwBuC,GACtBlC,EACGjE,IACCwH,IAAU,gBACCrB,EAAK/D,KADN,kBACoB+D,EAAK9D,MADzB,oBAC0C8D,EAAK7D,QAD/C,gBAC8D6B,yCAEzEC,MAAK,SAAC3E,GACL,IAAQmF,EAAYnF,EAAS+D,KAAKA,KAA1BoB,QACRjC,EAAWiC,GACX/B,EAAY,OAEb8B,OAAM,SAACtF,GAAW,IAAD,EACVM,EAAM,UAAGN,EAAMI,gBAAT,aAAG,EAAgBE,OAC/BkD,EAAYlD,GACZgD,EAAW,OAEZyB,MAAK,WACJrB,GAAW,MAnDb0E,CAAetB,KACd,KACH,OAAO,WACLpB,aAAapB,cAoFG,KAAbf,EACCT,EAAQI,SACN,qBAAKtD,UAAU,WAAWgG,IAAK8B,EAA/B,SACE,cAAC,EAAD,CACE5E,QAASA,EACTC,KAAMwE,EAAaxE,KACnBC,MAAOuE,EAAavE,MACpBC,QAASsE,EAAatE,YAK5B,qBAAKrD,UAAU,uCAAf,SACE,qBAAKA,UAAU,2BAA2B+F,KAAK,QAA/C,SACE,mCACG,IADH,mDAGG4B,EAAaxE,KAHhB,KAGwBwE,EAAavE,MAHrC,IAG6C,IAC1CuE,EAAatE,QAJhB,eAUR,qBAAKrD,UAAU,kCAAf,SACE,qBAAKA,UAAU,MAAf,SACE,wBACEA,UAAU,2BACVqH,QAAS,kBAAME,GAAc,IAF/B,yDCrGKkB,MA1Cf,WACE,MAAwChF,oBAAS,GAAjD,mBAAOiF,EAAP,KAAqBC,EAArB,KAYA,OAVAlE,qBAAU,cAAU,CAACiE,IAWnB,sBAAM1I,UAAU,gBAAhB,SACE,sBAAKA,UAAU,kBAAf,UACE,cAACC,EAAD,KACEyI,GACA,qCACE,cAAC,EAAD,IACA,qBAAK1I,UAAU,gBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,wBACEA,UAAU,2BACVqH,QAnBgB,WAC9BsB,GAAgB,IAgBJ,yCAUPD,GACC,cAAC,EAAD,CAAkBnB,cAxBI,SAACrB,GAC7ByC,EAAgBzC,YCAL0C,MAVf,WACE,OACE,qCACE,cAAC,IAAD,IACA,cAAC,EAAD,IACA,cAAC7I,EAAD,QCCS8I,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5D,MAAK,YAAkD,IAA/C6D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,EAAQ,IAAUC,SAElBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,MAMXd,M","file":"static/js/main.8094c0e4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer mt-auto py-3 bg-dark\">\r\n      <div className=\"container\">\r\n        <span className=\"text-white-50\">Air Mate © 2021</span>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"p-5 mb-4 bg-light rounded-3\">\r\n      <div className=\"container-fluid py-5\">\r\n        <h1 className=\"display-5 fw-bold\">Air Mate</h1>\r\n        <p className=\"lead\">Search the Air Quality in your city</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","function init() {}\r\n\r\nfunction log(error) {\r\n  console.error(error);\r\n}\r\n\r\nexport default {\r\n  init,\r\n  log,\r\n};\r\n","import axios from \"axios\";\r\nimport logger from \"./logService\";\r\nimport { toast } from \"react-toastify\";\r\n\r\naxios.interceptors.response.use(null, (error) => {\r\n  const expectedError =\r\n    error.response &&\r\n    error.response.status >= 400 &&\r\n    error.response.status < 500;\r\n\r\n  if (!expectedError) {\r\n    logger.log(error);\r\n    toast.error(\"An unexpected error occurrred.\");\r\n  }\r\n\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n};\r\n","import React from \"react\";\r\nimport { weatherImageUrl } from \"../config.json\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction WeatherData({ ts, tp, pr, hu, ws, wd, ic }) {\r\n  let iconUrl = `${weatherImageUrl}/${ic}.png`;\r\n  if (ic === \"04n\") {\r\n    iconUrl = `${weatherImageUrl}/04d.png`;\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"rounded shadow bg-white rounded pb-3\">\r\n        <div className=\"d-flex align-items-center justify-content-center py-3 mb-3\">\r\n          <img\r\n            src={iconUrl}\r\n            className=\"border-0 mx-2 img-fluid\"\r\n            width=\"100\"\r\n            height=\"100\"\r\n            alt=\"...\"\r\n          ></img>\r\n          <span className=\"display-6\">{tp} °C</span>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">Atmospheric pressure</h1>\r\n          <small>{pr} hPa</small>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">Humidity</h1>\r\n          <small>{hu} %</small>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">Wind speed</h1>\r\n          <small>{ws} m/s</small>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">Wind direction</h1>\r\n          <small>{wd}°</small>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nWeatherData.propTypes = {};\r\n\r\nexport default WeatherData;\r\n","import React from \"react\";\r\nimport { pollutionIconUrl } from \"../config.json\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction PollutionData({ ts, aqius, mainus, aqicn, maincn }) {\r\n  const units = {\r\n    p2: \"ugm3\", //pm2.5\r\n    p1: \"ugm3\", //pm10\r\n    o3: \"ppb\", //Ozone O3\r\n    n2: \"ppb\", //Nitrogen dioxide NO2\r\n    s2: \"ppb\", //Sulfur dioxide SO2\r\n    co: \"ppm\", //Carbon monoxide CO\r\n  };\r\n\r\n  let heading = \"\";\r\n  let style = {};\r\n  let iconUrl = \"\";\r\n\r\n  if (aqius > 0 && aqius <= 50) {\r\n    heading = \"Good\";\r\n    style = { backgroundColor: \"#D6F1C6\" };\r\n    iconUrl = `${pollutionIconUrl}/ic-face-green.svg`;\r\n  } else if (aqius > 50 && aqius <= 100) {\r\n    heading = \"Moderate\";\r\n    style = { backgroundColor: \"#FFFDC3\" };\r\n    iconUrl = `${pollutionIconUrl}/ic-face-yellow.svg`;\r\n  } else if (aqius > 100 && aqius <= 150) {\r\n    heading = \"Unhealthy for sensitive groups\";\r\n    style = { backgroundColor: \"#FFDA83\" };\r\n    iconUrl = `${pollutionIconUrl}/ic-face-orange.svg`;\r\n  } else if (aqius > 150 && aqius <= 200) {\r\n    heading = \"Unhealthy\";\r\n    style = { backgroundColor: \"#FFA318\" };\r\n    iconUrl = `${pollutionIconUrl}/ic-face-red.svg`;\r\n  } else if (aqius > 200 && aqius <= 300) {\r\n    heading = \"Very Unhealthy\";\r\n    style = { backgroundColor: \"#FF1F24\" };\r\n    iconUrl = `${pollutionIconUrl}/ic-face-purple.svg`;\r\n  } else if (aqius > 300 && aqius <= 500) {\r\n    heading = \"Hazardous\";\r\n    style = { backgroundColor: \"#801738\" };\r\n    iconUrl = `${pollutionIconUrl}/ic-face-maroon.svg`;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"rounded shadow bg-white rounded pb-3\">\r\n        <div\r\n          className=\"d-flex align-items-center justify-content-center py-3 mb-3\"\r\n          style={style}\r\n        >\r\n          <img\r\n            src={iconUrl}\r\n            className=\"border-0 mx-2 img-fluid\"\r\n            width=\"100\"\r\n            height=\"100\"\r\n            alt=\"...\"\r\n          ></img>\r\n          <p className=\"fs-3 text-secondary fw-light text-wrap\">{heading}</p>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">AQI US</h1>\r\n          <small>{aqius}</small>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">AQI China</h1>\r\n          <small>{aqicn}</small>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">Main pollutant for US AQI</h1>\r\n          <small>\r\n            {mainus} {units[mainus]}\r\n          </small>\r\n        </div>\r\n        <div className=\"mt-2 text-muted\">\r\n          <h1 className=\"h6 mb-0 mt-2\">Main pollutant for Chinese AQI</h1>\r\n          <small>\r\n            {maincn} {units[maincn]}\r\n          </small>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nPollutionData.propTypes = {};\r\n\r\nexport default PollutionData;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport WeatherData from \"./weatherData\";\r\nimport PollutionData from \"./pollutionData\";\r\n\r\nfunction AirData({ apiData, city, state, country }) {\r\n  const { weather, pollution } = apiData;\r\n  return (\r\n    <div className=\"card border-0\">\r\n      <div className=\"card-body py-3\">\r\n        <h4 className=\"card-title display-6\">{city}</h4>\r\n        <h5 className=\"card-title mb-5 fw-light fs-2\">\r\n          {state}, {country}\r\n        </h5>\r\n        <div className=\"row\">\r\n          {pollution.ts && (\r\n            <div className=\"col-md-6 mb-3\">\r\n              <PollutionData {...pollution} />\r\n            </div>\r\n          )}\r\n          {weather.ts && (\r\n            <div className=\"col-md-6 mb-3\">\r\n              <WeatherData {...weather} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nAirData.propTypes = {};\r\n\r\nexport default AirData;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport httpService from \"../services/httpService\";\r\nimport AirData from \"./airData\";\r\nimport { apiUrlIp } from \"../config.json\";\r\n\r\nfunction ShowIpData() {\r\n  const [apiData, setApiData] = useState({});\r\n  const [apiError, setApiError] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const dataRef = useRef();\r\n\r\n  const localData = JSON.parse(localStorage.getItem(\"airData\"));\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      if (loading === true) {\r\n        if (localData && !isLocalDataExpired()) {\r\n          updateStates(localData.data, \"\", false);\r\n        } else {\r\n          getDataFromApi();\r\n        }\r\n      }\r\n    }, 500);\r\n\r\n    if (dataRef && dataRef.current) {\r\n      dataRef.current.scrollIntoView({\r\n        alignToTop: true,\r\n      });\r\n    }\r\n\r\n    return () => clearTimeout(timeout);\r\n  }, [loading]);\r\n\r\n  function updateStates(data, error, loadingFlag) {\r\n    setApiData(data);\r\n    setApiError(error);\r\n    setLoading(loadingFlag);\r\n  }\r\n\r\n  function getDataFromApi() {\r\n    httpService\r\n      .get(apiUrlIp + `?key=${process.env.REACT_APP_IQ_AIR_API_KEY}`)\r\n      .then((response) => {\r\n        const { data } = response.data;\r\n        storeResultsLocally(data);\r\n        updateStates(data, \"\", false);\r\n      })\r\n      .catch((error) => {\r\n        const status = error.response?.status;\r\n        updateStates({}, status, false);\r\n      });\r\n  }\r\n\r\n  function storeResultsLocally(data) {\r\n    var currentDateTime = new Date();\r\n    currentDateTime.setMinutes(currentDateTime.getMinutes() + 10);\r\n\r\n    localStorage.setItem(\r\n      \"airData\",\r\n      JSON.stringify({\r\n        data: data,\r\n        expDateTime: currentDateTime.toLocaleString(),\r\n      })\r\n    );\r\n  }\r\n\r\n  function isLocalDataExpired() {\r\n    var currentDateTime = new Date();\r\n    const expDateTime = new Date(localData.expDateTime);\r\n    if (currentDateTime > expDateTime) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  if (loading === true) {\r\n    return (\r\n      <>\r\n        <div className=\"row justify-content-center py-5\">\r\n          <div className=\"col-md-10\">\r\n            <p className=\"mb-3 fw-light fs-2\">\r\n              Fetching data based on your ip address...\r\n            </p>\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row justify-content-center py-5\">\r\n        <div className=\"col-md-8\">\r\n          {apiError === \"\" ? (\r\n            apiData.current && (\r\n              <div ref={dataRef}>\r\n                <AirData\r\n                  apiData={apiData.current}\r\n                  city={apiData.city}\r\n                  state={apiData.state}\r\n                  country={apiData.country}\r\n                />\r\n              </div>\r\n            )\r\n          ) : (\r\n            <div className=\"alert alert-warning mt-5\" role=\"alert\">\r\n              <strong> No data is found against your ip.</strong>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nShowIpData.propTypes = {};\r\n\r\nexport default ShowIpData;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction SearchBox({ value, onChange, onSubmit }) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit();\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-8 mx-auto my-auto\">\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"textCityName\" className=\"form-label display-6\">\r\n              City Name\r\n            </label>\r\n            <input\r\n              className=\"form-control form-control-lg\"\r\n              id=\"textCityName\"\r\n              placeholder=\"Los Angeles\"\r\n              value={value}\r\n              onChange={(e) => onChange(e.currentTarget.value)}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Search\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBox.propTypes = {\r\n  value: PropTypes.string,\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction ListOfLinks({ links, onLinkClick }) {\r\n  if (links.length === 0) {\r\n    return (\r\n      <div\r\n        className=\"alert alert-warning d-flex align-items-center\"\r\n        role=\"alert\"\r\n      >\r\n        <svg\r\n          className=\"bi flex-shrink-0 me-2\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          role=\"img\"\r\n          aria-label=\"Warning:\"\r\n        >\r\n          <use xlinkHref=\"http://www.w3.org/2000/svg\" />\r\n        </svg>\r\n        <div>Sorry we could not find this city.</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      {links.length > 1 && (\r\n        <span>Looks like there are multiple cities against your entry...</span>\r\n      )}\r\n      <div className=\"list-group mt-5\">\r\n        {links.length !== 0 &&\r\n          links.map((link, index) => {\r\n            return (\r\n              <button\r\n                key={index}\r\n                type=\"button\"\r\n                className=\"list-group-item list-group-item-action list-group-item-primary\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => onLinkClick(link)}\r\n              >\r\n                {link.city}, {link.state}, {link.country}\r\n              </button>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nListOfLinks.propTypes = {};\r\n\r\nexport default ListOfLinks;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchBox from \"./searchBox\";\r\nimport httpService from \"../services/httpService\";\r\nimport ListOfLinks from \"./listOfLinks\";\r\nimport CountryCityState from \"countrycitystatejson\";\r\nimport AirData from \"./airData\";\r\nimport { apiUrlCity } from \"../config.json\";\r\n\r\nfunction ShowSearchedData({ onGoBackClick }) {\r\n  const [searchBoxValue, setSearchBoxValue] = useState(\"\");\r\n  const [links, setLinks] = useState([]);\r\n  const [selectedLink, setSelectedLink] = useState({});\r\n  const [apiData, setApiData] = useState({});\r\n  const [apiError, setApiError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const listRef = useRef();\r\n  const airDataRef = useRef();\r\n\r\n  const handleSearchBoxSubmit = () => {\r\n    //reset existing states\r\n    setSelectedLink({});\r\n    setApiData(\"\");\r\n    setApiError(\"\");\r\n\r\n    const linksData = getLinks(searchBoxValue);\r\n    setLinks(linksData);\r\n  };\r\n\r\n  const handleLinkClick = (link) => {\r\n    setLoading(true);\r\n    setSelectedLink(link);\r\n    setApiData({});\r\n\r\n    const timeout = setTimeout(() => {\r\n      getDataFromApi(link);\r\n    }, 500);\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (listRef && listRef.current) {\r\n      listRef.current.scrollIntoView({\r\n        alignToTop: true,\r\n      });\r\n    }\r\n    if (airDataRef && airDataRef.current) {\r\n      airDataRef.current.scrollIntoView({\r\n        alignToTop: true,\r\n      });\r\n    }\r\n  }, [links, apiData, apiError, loading]);\r\n\r\n  const getLinks = (value) => {\r\n    const links = [];\r\n    const cscs = CountryCityState.getCitiesByName(value);\r\n\r\n    cscs.forEach((data) => {\r\n      const linkData = { city: value };\r\n      linkData.state = data.state;\r\n      linkData.country = data.country.name;\r\n      links.push(linkData);\r\n    });\r\n\r\n    return links;\r\n  };\r\n\r\n  function getDataFromApi(link) {\r\n    httpService\r\n      .get(\r\n        apiUrlCity +\r\n          `?city=${link.city}&state=${link.state}&country=${link.country}&key=${process.env.REACT_APP_IQ_AIR_API_KEY}`\r\n      )\r\n      .then((response) => {\r\n        const { current } = response.data.data;\r\n        setApiData(current);\r\n        setApiError(\"\");\r\n      })\r\n      .catch((error) => {\r\n        const status = error.response?.status;\r\n        setApiError(status);\r\n        setApiData({});\r\n      })\r\n      .then(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  if (loading === true) {\r\n    return (\r\n      <>\r\n        <div className=\"row py-5\">\r\n          <div className=\"col\">\r\n            <p className=\"mb-3 fw-light fs-2\">Fetching data...</p>\r\n            <div className=\"spinner-border\" role=\"status\">\r\n              <span className=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row justify-content-center py-5\">\r\n        <div className=\"col-md-6\">\r\n          <SearchBox\r\n            value={searchBoxValue}\r\n            onChange={setSearchBoxValue}\r\n            onSubmit={handleSearchBoxSubmit}\r\n          />\r\n          {links.length !== 0 && (\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"col-md-10\" ref={listRef}>\r\n                <ListOfLinks links={links} onLinkClick={handleLinkClick} />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {apiError === \"\" ? (\r\n          apiData.weather && (\r\n            <div className=\"col-md-6\" ref={airDataRef}>\r\n              <AirData\r\n                apiData={apiData}\r\n                city={selectedLink.city}\r\n                state={selectedLink.state}\r\n                country={selectedLink.country}\r\n              />\r\n            </div>\r\n          )\r\n        ) : (\r\n          <div className=\"d-inline-flex justify-content-center\">\r\n            <div className=\"alert alert-warning mt-5\" role=\"alert\">\r\n              <strong>\r\n                {\" \"}\r\n                No data is found against the selected location (\r\n                {selectedLink.city}, {selectedLink.state},{\" \"}\r\n                {selectedLink.country}).\r\n              </strong>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"row justify-content-center pb-5\">\r\n        <div className=\"col\">\r\n          <button\r\n            className=\"btn btn-lg btn-secondary\"\r\n            onClick={() => onGoBackClick(false)}\r\n          >\r\n            Go back to IP address based result?\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nShowSearchedData.propTypes = {};\r\n\r\nexport default ShowSearchedData;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Header from \"./header\";\r\nimport ShowIpData from \"./ipBasedData\";\r\nimport ShowSearchedData from \"./searchBasedData\";\r\n\r\nfunction Main() {\r\n  const [searchByCity, setSearchByCity] = useState(false);\r\n\r\n  useEffect(() => {}, [searchByCity]);\r\n\r\n  const handleSearchByCityClick = () => {\r\n    setSearchByCity(true);\r\n  };\r\n\r\n  const handleSearchByIpClick = (value) => {\r\n    setSearchByCity(value);\r\n  };\r\n\r\n  return (\r\n    <main className=\"flex-shrink-0\">\r\n      <div className=\"container-fluid\">\r\n        <Header />\r\n        {!searchByCity && (\r\n          <>\r\n            <ShowIpData />\r\n            <div className=\"row pb-5 my-5\">\r\n              <div className=\"col\">\r\n                <button\r\n                  className=\"btn btn-lg btn-secondary\"\r\n                  onClick={handleSearchByCityClick}\r\n                >\r\n                  Search by city name?\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n        {searchByCity && (\r\n          <ShowSearchedData onGoBackClick={handleSearchByIpClick} />\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nMain.propTypes = {};\r\n\r\nexport default Main;\r\n","import { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport Footer from \"./components/footer\";\r\nimport Main from \"./components/main\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      <Main />\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nrequire(\"dotenv\").config();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.body\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}