{"version":3,"sources":["components/footer.jsx","components/header.jsx","services/logService.js","services/httpService.js","components/weatherData.jsx","components/pollutionData.jsx","components/airData.jsx","components/ipBasedData.jsx","components/searchBox.jsx","components/listOfLinks.jsx","components/searchBasedData.jsx","components/main.jsx","App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","init","log","error","console","axios","interceptors","response","use","status","logger","toast","Promise","reject","get","post","put","delete","WeatherData","ts","tp","pr","hu","ws","wd","ic","iconUrl","weatherImageUrl","src","width","height","alt","PollutionData","aqius","mainus","aqicn","maincn","units","p2","p1","o3","n2","s2","co","heading","style","backgroundColor","pollutionIconUrl","AirData","apiData","city","state","country","weather","pollution","ShowIpData","useState","setApiData","apiError","setApiError","loading","setLoading","dataRef","useRef","localData","JSON","parse","localStorage","getItem","updateStates","data","loadingFlag","useEffect","timeout","setTimeout","currentDateTime","Date","expDateTime","isLocalDataExpired","httpService","apiUrlIp","process","then","setMinutes","getMinutes","setItem","stringify","toLocaleString","storeResultsLocally","catch","current","scrollIntoView","alignToTop","clearTimeout","role","ref","SearchBox","value","onChange","onSubmit","e","preventDefault","htmlFor","id","placeholder","currentTarget","type","ListOfLinks","links","onLinkClick","length","xlinkHref","map","link","index","cursor","onClick","ShowSearchedData","onGoBackClick","searchBoxValue","setSearchBoxValue","setLinks","selectedLink","setSelectedLink","listRef","airDataRef","getLinks","CountryCityState","getCitiesByName","forEach","linkData","name","push","linksData","apiUrlCity","getDataFromApi","Main","searchByCity","setSearchByCity","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","require","config","ReactDOM","render","StrictMode","document","body"],"mappings":"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","file":"static/js/main.5de7e883.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer mt-auto py-3 bg-dark\">\n      <div className=\"container\">\n        <span className=\"text-white-50\">Air Mate © 2021</span>\n      </div>\n    </footer>\n  );\n}\n","import React from \"react\";\n\nexport default function Header() {\n  return (\n    <div className=\"p-5 mb-4 bg-light rounded-3\">\n      <div className=\"container-fluid py-5\">\n        <h1 className=\"display-5 fw-bold\">Air Mate</h1>\n        <p className=\"lead\">Search the Air Quality in your city</p>\n      </div>\n    </div>\n  );\n}\n","function init() {}\n\nfunction log(error) {\n  console.error(error);\n}\n\nexport default {\n  init,\n  log,\n};\n","import axios from \"axios\";\nimport logger from \"./logService\";\nimport { toast } from \"react-toastify\";\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    toast.error(\"An unexpected error occurrred.\");\n  }\n\n  return Promise.reject(error);\n});\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n};\n","import React from \"react\";\nimport { weatherImageUrl } from \"../config.json\";\nimport PropTypes from \"prop-types\";\n\nfunction WeatherData({ ts, tp, pr, hu, ws, wd, ic }) {\n  let iconUrl = `${weatherImageUrl}/${ic}.png`;\n  if (ic === \"04n\") {\n    iconUrl = `${weatherImageUrl}/04d.png`;\n  }\n  return (\n    <>\n      <div className=\"rounded shadow bg-white rounded pb-3\">\n        <div className=\"d-flex align-items-center justify-content-center py-3 mb-3\">\n          <img\n            src={iconUrl}\n            className=\"border-0 mx-2 img-fluid\"\n            width=\"100\"\n            height=\"100\"\n            alt=\"...\"\n          ></img>\n          <span className=\"display-6\">{tp} °C</span>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">Atmospheric pressure</h1>\n          <small>{pr} hPa</small>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">Humidity</h1>\n          <small>{hu} %</small>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">Wind speed</h1>\n          <small>{ws} m/s</small>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">Wind direction</h1>\n          <small>{wd}°</small>\n        </div>\n      </div>\n    </>\n  );\n}\n\nWeatherData.propTypes = {};\n\nexport default WeatherData;\n","import React from \"react\";\nimport { pollutionIconUrl } from \"../config.json\";\nimport PropTypes from \"prop-types\";\n\nfunction PollutionData({ ts, aqius, mainus, aqicn, maincn }) {\n  const units = {\n    p2: \"ugm3\", //pm2.5\n    p1: \"ugm3\", //pm10\n    o3: \"ppb\", //Ozone O3\n    n2: \"ppb\", //Nitrogen dioxide NO2\n    s2: \"ppb\", //Sulfur dioxide SO2\n    co: \"ppm\", //Carbon monoxide CO\n  };\n\n  let heading = \"\";\n  let style = {};\n  let iconUrl = \"\";\n\n  if (aqius > 0 && aqius <= 50) {\n    heading = \"Good\";\n    style = { backgroundColor: \"#D6F1C6\" };\n    iconUrl = `${pollutionIconUrl}/ic-face-green.svg`;\n  } else if (aqius > 50 && aqius <= 100) {\n    heading = \"Moderate\";\n    style = { backgroundColor: \"#FFFDC3\" };\n    iconUrl = `${pollutionIconUrl}/ic-face-yellow.svg`;\n  } else if (aqius > 100 && aqius <= 150) {\n    heading = \"Unhealthy for sensitive groups\";\n    style = { backgroundColor: \"#FFDA83\" };\n    iconUrl = `${pollutionIconUrl}/ic-face-orange.svg`;\n  } else if (aqius > 150 && aqius <= 200) {\n    heading = \"Unhealthy\";\n    style = { backgroundColor: \"#FFA318\" };\n    iconUrl = `${pollutionIconUrl}/ic-face-red.svg`;\n  } else if (aqius > 200 && aqius <= 300) {\n    heading = \"Very Unhealthy\";\n    style = { backgroundColor: \"#FF1F24\" };\n    iconUrl = `${pollutionIconUrl}/ic-face-purple.svg`;\n  } else if (aqius > 300 && aqius <= 500) {\n    heading = \"Hazardous\";\n    style = { backgroundColor: \"#801738\" };\n    iconUrl = `${pollutionIconUrl}/ic-face-maroon.svg`;\n  }\n\n  return (\n    <>\n      <div className=\"rounded shadow bg-white rounded pb-3\">\n        <div\n          className=\"d-flex align-items-center justify-content-center py-3 mb-3\"\n          style={style}\n        >\n          <img\n            src={iconUrl}\n            className=\"border-0 mx-2 img-fluid\"\n            width=\"100\"\n            height=\"100\"\n            alt=\"...\"\n          ></img>\n          <p className=\"fs-3 text-secondary fw-light text-wrap\">{heading}</p>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">AQI US</h1>\n          <small>{aqius}</small>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">AQI China</h1>\n          <small>{aqicn}</small>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">Main pollutant for US AQI</h1>\n          <small>\n            {mainus} {units[mainus]}\n          </small>\n        </div>\n        <div className=\"mt-2 text-muted\">\n          <h1 className=\"h6 mb-0 mt-2\">Main pollutant for Chinese AQI</h1>\n          <small>\n            {maincn} {units[maincn]}\n          </small>\n        </div>\n      </div>\n    </>\n  );\n}\n\nPollutionData.propTypes = {};\n\nexport default PollutionData;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport WeatherData from \"./weatherData\";\nimport PollutionData from \"./pollutionData\";\n\nfunction AirData({ apiData, city, state, country }) {\n  const { weather, pollution } = apiData;\n  return (\n    <div className=\"card border-0\">\n      <div className=\"card-body py-3\">\n        <h4 className=\"card-title display-6\">{city}</h4>\n        <h5 className=\"card-title mb-5 fw-light fs-2\">\n          {state}, {country}\n        </h5>\n        <div className=\"row\">\n          {pollution.ts && (\n            <div className=\"col-md-6 mb-3\">\n              <PollutionData {...pollution} />\n            </div>\n          )}\n          {weather.ts && (\n            <div className=\"col-md-6 mb-3\">\n              <WeatherData {...weather} />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nAirData.propTypes = {};\n\nexport default AirData;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport httpService from \"../services/httpService\";\nimport AirData from \"./airData\";\nimport { apiUrlIp } from \"../config.json\";\n\nfunction ShowIpData() {\n  const [apiData, setApiData] = useState({});\n  const [apiError, setApiError] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  const dataRef = useRef();\n\n  const localData = JSON.parse(localStorage.getItem(\"airData\"));\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      if (loading === true) {\n        if (localData && !isLocalDataExpired()) {\n          updateStates(localData.data, \"\", false);\n        } else {\n          getDataFromApi();\n        }\n      }\n    }, 500);\n\n    if (dataRef && dataRef.current) {\n      dataRef.current.scrollIntoView({\n        alignToTop: true,\n      });\n    }\n\n    return () => clearTimeout(timeout);\n  }, [loading]);\n\n  function updateStates(data, error, loadingFlag) {\n    setApiData(data);\n    setApiError(error);\n    setLoading(loadingFlag);\n  }\n\n  function getDataFromApi() {\n    httpService\n      .get(apiUrlIp + `?key=${process.env.REACT_APP_IQ_AIR_API_KEY}`)\n      .then((response) => {\n        const { data } = response.data;\n        storeResultsLocally(data);\n        updateStates(data, \"\", false);\n      })\n      .catch((error) => {\n        const status = error.response?.status;\n        updateStates({}, status, false);\n      });\n  }\n\n  function storeResultsLocally(data) {\n    var currentDateTime = new Date();\n    currentDateTime.setMinutes(currentDateTime.getMinutes() + 10);\n\n    localStorage.setItem(\n      \"airData\",\n      JSON.stringify({\n        data: data,\n        expDateTime: currentDateTime.toLocaleString(),\n      })\n    );\n  }\n\n  function isLocalDataExpired() {\n    var currentDateTime = new Date();\n    const expDateTime = new Date(localData.expDateTime);\n    if (currentDateTime > expDateTime) {\n      return true;\n    }\n    return false;\n  }\n\n  if (loading === true) {\n    return (\n      <>\n        <div className=\"row justify-content-center py-5\">\n          <div className=\"col-md-10\">\n            <p className=\"mb-3 fw-light fs-2\">\n              Fetching data based on your ip address...\n            </p>\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"row justify-content-center py-5\">\n        <div className=\"col-md-8\">\n          {apiError === \"\" ? (\n            apiData.current && (\n              <div ref={dataRef}>\n                <AirData\n                  apiData={apiData.current}\n                  city={apiData.city}\n                  state={apiData.state}\n                  country={apiData.country}\n                />\n              </div>\n            )\n          ) : (\n            <div className=\"alert alert-warning mt-5\" role=\"alert\">\n              <strong> No data is found against your ip.</strong>\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nShowIpData.propTypes = {};\n\nexport default ShowIpData;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction SearchBox({ value, onChange, onSubmit }) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit();\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-8 mx-auto my-auto\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"textCityName\" className=\"form-label display-6\">\n              City Name\n            </label>\n            <input\n              className=\"form-control form-control-lg\"\n              id=\"textCityName\"\n              placeholder=\"Los Angeles\"\n              value={value}\n              onChange={(e) => onChange(e.currentTarget.value)}\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Search\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nSearchBox.propTypes = {\n  value: PropTypes.string,\n};\n\nexport default SearchBox;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction ListOfLinks({ links, onLinkClick }) {\n  if (links.length === 0) {\n    return (\n      <div\n        className=\"alert alert-warning d-flex align-items-center\"\n        role=\"alert\"\n      >\n        <svg\n          className=\"bi flex-shrink-0 me-2\"\n          width=\"24\"\n          height=\"24\"\n          role=\"img\"\n          aria-label=\"Warning:\"\n        >\n          <use xlinkHref=\"http://www.w3.org/2000/svg\" />\n        </svg>\n        <div>Sorry we could not find this city.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mt-5\">\n      {links.length > 1 && (\n        <span>Looks like there are multiple cities against your entry...</span>\n      )}\n      <div className=\"list-group mt-5\">\n        {links.length !== 0 &&\n          links.map((link, index) => {\n            return (\n              <button\n                key={index}\n                type=\"button\"\n                className=\"list-group-item list-group-item-action list-group-item-primary\"\n                style={{ cursor: \"pointer\" }}\n                onClick={() => onLinkClick(link)}\n              >\n                {link.city}, {link.state}, {link.country}\n              </button>\n            );\n          })}\n      </div>\n    </div>\n  );\n}\n\nListOfLinks.propTypes = {};\n\nexport default ListOfLinks;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SearchBox from \"./searchBox\";\nimport httpService from \"../services/httpService\";\nimport ListOfLinks from \"./listOfLinks\";\nimport CountryCityState from \"countrycitystatejson\";\nimport AirData from \"./airData\";\nimport { apiUrlCity } from \"../config.json\";\n\nfunction ShowSearchedData({ onGoBackClick }) {\n  const [searchBoxValue, setSearchBoxValue] = useState(\"\");\n  const [links, setLinks] = useState([]);\n  const [selectedLink, setSelectedLink] = useState({});\n  const [apiData, setApiData] = useState({});\n  const [apiError, setApiError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const listRef = useRef();\n  const airDataRef = useRef();\n\n  const handleSearchBoxSubmit = () => {\n    //reset existing states\n    setSelectedLink({});\n    setApiData(\"\");\n    setApiError(\"\");\n\n    const linksData = getLinks(searchBoxValue);\n    setLinks(linksData);\n  };\n\n  const handleLinkClick = (link) => {\n    setLoading(true);\n    setSelectedLink(link);\n    setApiData({});\n\n    const timeout = setTimeout(() => {\n      getDataFromApi(link);\n    }, 500);\n    return () => {\n      clearTimeout(timeout);\n    };\n  };\n\n  useEffect(() => {\n    if (listRef && listRef.current) {\n      listRef.current.scrollIntoView({\n        alignToTop: true,\n      });\n    }\n    if (airDataRef && airDataRef.current) {\n      airDataRef.current.scrollIntoView({\n        alignToTop: true,\n      });\n    }\n  }, [links, apiData, apiError, loading]);\n\n  const getLinks = (value) => {\n    const links = [];\n    const cscs = CountryCityState.getCitiesByName(value);\n\n    cscs.forEach((data) => {\n      const linkData = { city: value };\n      linkData.state = data.state;\n      linkData.country = data.country.name;\n      links.push(linkData);\n    });\n\n    return links;\n  };\n\n  function getDataFromApi(link) {\n    httpService\n      .get(\n        apiUrlCity +\n          `?city=${link.city}&state=${link.state}&country=${link.country}&key=${process.env.REACT_APP_IQ_AIR_API_KEY}`\n      )\n      .then((response) => {\n        const { current } = response.data.data;\n        setApiData(current);\n        setApiError(\"\");\n      })\n      .catch((error) => {\n        const status = error.response?.status;\n        setApiError(status);\n        setApiData({});\n      })\n      .then(() => {\n        setLoading(false);\n      });\n  }\n\n  if (loading === true) {\n    return (\n      <>\n        <div className=\"row py-5\">\n          <div className=\"col\">\n            <p className=\"mb-3 fw-light fs-2\">Fetching data...</p>\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"row justify-content-center py-5\">\n        <div className=\"col-md-6\">\n          <SearchBox\n            value={searchBoxValue}\n            onChange={setSearchBoxValue}\n            onSubmit={handleSearchBoxSubmit}\n          />\n          {links.length !== 0 && (\n            <div className=\"row justify-content-center\">\n              <div className=\"col-md-10\" ref={listRef}>\n                <ListOfLinks links={links} onLinkClick={handleLinkClick} />\n              </div>\n            </div>\n          )}\n        </div>\n        {apiError === \"\" ? (\n          apiData.weather && (\n            <div className=\"col-md-6\" ref={airDataRef}>\n              <AirData\n                apiData={apiData}\n                city={selectedLink.city}\n                state={selectedLink.state}\n                country={selectedLink.country}\n              />\n            </div>\n          )\n        ) : (\n          <div className=\"d-inline-flex justify-content-center\">\n            <div className=\"alert alert-warning mt-5\" role=\"alert\">\n              <strong>\n                {\" \"}\n                No data is found against the selected location (\n                {selectedLink.city}, {selectedLink.state},{\" \"}\n                {selectedLink.country}).\n              </strong>\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"row justify-content-center pb-5\">\n        <div className=\"col\">\n          <button\n            className=\"btn btn-lg btn-secondary\"\n            onClick={() => onGoBackClick(false)}\n          >\n            Go back to IP address based result?\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nShowSearchedData.propTypes = {};\n\nexport default ShowSearchedData;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Header from \"./header\";\nimport ShowIpData from \"./ipBasedData\";\nimport ShowSearchedData from \"./searchBasedData\";\n\nfunction Main() {\n  const [searchByCity, setSearchByCity] = useState(false);\n\n  useEffect(() => {}, [searchByCity]);\n\n  const handleSearchByCityClick = () => {\n    setSearchByCity(true);\n  };\n\n  const handleSearchByIpClick = (value) => {\n    setSearchByCity(value);\n  };\n\n  return (\n    <main className=\"flex-shrink-0\">\n      <div className=\"container-fluid\">\n        <Header />\n        {!searchByCity && (\n          <>\n            <ShowIpData />\n            <div className=\"row pb-5 my-5\">\n              <div className=\"col\">\n                <button\n                  className=\"btn btn-lg btn-secondary\"\n                  onClick={handleSearchByCityClick}\n                >\n                  Search by city name?\n                </button>\n              </div>\n            </div>\n          </>\n        )}\n        {searchByCity && (\n          <ShowSearchedData onGoBackClick={handleSearchByIpClick} />\n        )}\n      </div>\n    </main>\n  );\n}\n\nMain.propTypes = {};\n\nexport default Main;\n","import { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Footer from \"./components/footer\";\nimport Main from \"./components/main\";\n\nfunction App() {\n  return (\n    <>\n      <ToastContainer />\n      <Main />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nrequire(\"dotenv\").config();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.body\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}